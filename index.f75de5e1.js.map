{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\nconst body = document.querySelector('body');\nconst form = document.createElement('form');\nconst button = document.createElement('button');\n\nbody.appendChild(form);\nform.classList.add('new-employee-form');\n\nconst formElem = body.querySelector('form');\n\nconst titlesList = document.querySelectorAll('thead th');\n\nconst tbody = document.querySelector('tbody');\nlet rows = Array.from(tbody.querySelectorAll('tr'));\n\naddRowActive();\n\nlet order;\nlet lastIndex = -1;\n\ntitlesList.forEach((title, index) => {\n  const label = document.createElement('label');\n\n  formElem.appendChild(label);\n  label.textContent = title.textContent + ':';\n\n  const qaAtr = title.textContent.trim().toLowerCase();\n  let inputType = 'text';\n\n  if (index === 3 || index === 4) {\n    inputType = 'number';\n  }\n\n  if (index !== 2) {\n    const input = document.createElement('input');\n\n    input.setAttribute('name', qaAtr);\n    input.setAttribute('type', inputType);\n    input.setAttribute('data-qa', qaAtr);\n\n    if (index === 0 || index === 1) {\n      input.setAttribute('required', '');\n    }\n\n    label.appendChild(input);\n  } else {\n    const select = document.createElement('select');\n\n    select.setAttribute('name', qaAtr);\n    select.setAttribute('data-qa', qaAtr);\n    select.setAttribute('required', '');\n\n    const options = [\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'Edinburgh',\n      'San Francisco',\n    ];\n\n    options.forEach((option) => {\n      const opt = document.createElement('option');\n\n      opt.textContent = option;\n      select.appendChild(opt);\n    });\n    label.appendChild(select);\n  }\n\n  formElem.insertAdjacentElement('beforeend', button);\n  button.textContent = 'Save to table';\n\n  title.addEventListener('click', () => {\n    if (lastIndex !== index) {\n      order = 'ASC';\n    } else {\n      order = order === 'ASC' ? 'DESC' : 'ASC';\n    }\n    lastIndex = index;\n\n    switch (index) {\n      case 0:\n      case 1:\n      case 2:\n        sortTable(index, 'text', order);\n        break;\n      case 3:\n      case 4:\n        sortTable(index, 'number', order);\n        break;\n      default:\n        break;\n    }\n    rows.forEach((row) => tbody.appendChild(row));\n  });\n});\n\nfunction sortTable(columnIndex, dataType, sortOrder) {\n  rows.sort((rowA, rowB) => {\n    const cellA = rowA.querySelectorAll('td')[columnIndex].textContent.trim();\n    const cellB = rowB.querySelectorAll('td')[columnIndex].textContent.trim();\n\n    if (dataType === 'number') {\n      return sortOrder === 'ASC'\n        ? helper(cellA) - helper(cellB)\n        : helper(cellB) - helper(cellA);\n    } else {\n      return sortOrder === 'ASC'\n        ? cellA.localeCompare(cellB)\n        : cellB.localeCompare(cellA);\n    }\n  });\n}\n\nbutton.onclick = (e) => {\n  e.preventDefault();\n\n  const values = formElem.querySelectorAll('input, select');\n  const formData = {};\n\n  values.forEach((v) => {\n    formData[v.name] = v.value.trim();\n  });\n\n  if (formData.name.length < 4) {\n    pushNotification('Error', 'Name should be at least 4 characters.', 'error');\n\n    return;\n  }\n\n  if (!formData.position) {\n    pushNotification('Error', 'Position is required.', 'error');\n\n    return;\n  }\n\n  const age = parseInt(formData.age, 10);\n\n  if (age < 18) {\n    pushNotification('Error', 'Age should be at least 18.', 'error');\n\n    return;\n  }\n\n  if (age > 90) {\n    pushNotification('Error', 'Age should not exceed 90.', 'error');\n\n    return;\n  }\n\n  const newRow = document.createElement('tr');\n\n  Object.values(formData).forEach((data, index) => {\n    const newCell = document.createElement('td');\n    let v = data;\n\n    if (index === 3) {\n      v = Number(data);\n    }\n\n    if (index === 4) {\n      v = `$${Number(data).toLocaleString('en-US')}`;\n    }\n\n    newCell.textContent = v;\n    newRow.appendChild(newCell);\n  });\n\n  tbody.appendChild(newRow);\n\n  pushNotification('Success', 'New employee added successfully.', 'success');\n\n  form.reset();\n\n  rows = Array.from(tbody.querySelectorAll('tr'));\n\n  addRowActive();\n};\n\nconst pushNotification = (title, description, type) => {\n  const message = document.createElement('div');\n\n  message.className = `notification ${type}`;\n  message.setAttribute('data-qa', 'notification');\n\n  const messageTitle = document.createElement('h2');\n\n  messageTitle.className = 'title';\n  messageTitle.textContent = title;\n\n  const notification = document.createElement('p');\n\n  notification.textContent = description;\n  message.appendChild(messageTitle);\n  message.appendChild(notification);\n\n  document.body.appendChild(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 3000);\n};\n\nfunction addRowActive() {\n  rows.forEach((row) => {\n    row.addEventListener('click', () => {\n      rows.forEach((r) => r.classList.remove('active'));\n      row.classList.add('active');\n    });\n  });\n}\n\nfunction helper(string) {\n  return Number(string.replace(/[^0-9.-]+/g, ''));\n}\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}